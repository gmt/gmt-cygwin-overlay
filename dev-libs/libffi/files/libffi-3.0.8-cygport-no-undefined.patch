diff -u libffi-3.0.10.orig/Makefile.am libffi-3.0.10/Makefile.am
--- libffi-3.0.10.orig/Makefile.am	2011-08-23 07:28:04.000000000 -0700
+++ libffi-3.0.10/Makefile.am	2012-02-20 20:16:46.422603500 -0800
@@ -185,7 +185,7 @@
 AM_CFLAGS += -DFFI_DEBUG
 endif
 
-libffi_la_LDFLAGS = -version-info `grep -v '^\#' $(srcdir)/libtool-version` $(LTLDFLAGS) $(AM_LTLDFLAGS)
+libffi_la_LDFLAGS = -version-info `grep -v '^\#' $(srcdir)/libtool-version` -no-undefined $(LTLDFLAGS) $(AM_LTLDFLAGS)
 
 AM_CPPFLAGS = -I. -I$(top_srcdir)/include -Iinclude -I$(top_srcdir)/src
 AM_CCASFLAGS = $(AM_CPPFLAGS)
